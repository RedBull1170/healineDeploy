<div class="back-button-container">
    <a href="/agenda-consultar" class="btn btn-outline-secondary text-decoration-none">
        ↺ Atrás
    </a>
</div>

<div class="page-title mt-4">
    <h1 class="title1">Registrar Agenda Médica</h1>
</div>

<div class="form-container mt-4">
    <div class="card border-primary shadow-lg" style="border-radius: 10px;">
        <div class="card-body">
            <form #agendaForm="ngForm" (ngSubmit)="onSubmit()" class="formCitaBuscar">
                <h4 class="form-divider">ㅤ</h4>

                <div class="form-group">
                    <label class="labelCitaBuscar" for="fecha">Fecha de Agenda</label>
                    <input class="form-control" name="fecha" id="fecha" type="date" placeholder="Fecha" required [(ngModel)]="agenda.fecha">
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar" for="horaInicio">Hora de Inicio</label>
                    <input class="form-control" name="hora_inicio" id="hora_inicio" type="time" placeholder="Hora de Inicio" required [(ngModel)]="agenda.hora_inicio">
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar" for="horaFin">Hora de Fin</label>
                    <input class="form-control" name="hora_fin" id="hora_fin" type="time" placeholder="Hora de Fin" required [(ngModel)]="agenda.hora_fin">
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar" for="medico">Médico</label>
                    <select required [(ngModel)]="agenda.medico" name="medico" id="medico" class="form-control">
                        <option value="" disabled selected>Seleccione un médico</option>
                        <option *ngFor="let user of usersMedicos" [ngValue]="user.documento + ' ' + user.primerNombre + ' ' + (user.segundoNombre ? user.segundoNombre + ' ' : '') + user.primerApellido + ' ' + (user.segundoApellido ? user.segundoApellido : '')">
                            {{ user.documento }} - {{ user.primerNombre }} {{ user.segundoNombre ? user.segundoNombre + ' ' : '' }}{{ user.primerApellido }} {{ user.segundoApellido ? user.segundoApellido : '' }}
                        </option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar" for="descripcion">Descripción</label>
                    <input class="form-control" name="descripcion" id="descripcion" type="text" placeholder="Descripción" required [(ngModel)]="agenda.descripcion">
                </div>

                <div class="form-group mt-3">
                    <button type="submit" class="btn btn-primary" style="border-radius: 20px;" [disabled]="!agendaForm.form.valid && isFormSubmitted">Registrar Agenda</button>
                </div>
            </form>
        </div>
    </div>
</div>
