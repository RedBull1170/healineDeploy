<div class="container mt-4">
    <a href="/citas-consultar" >
        <button class="boxed-btn" style="padding: 10px; font-weight: 600; text-decoration: none;">↺ Atrás</button>
    </a>
</div>

<div class="container mt-4">
    <div class="card border-secondary shadow-lg" style="border-radius: 15px;">
        <div class="card-body">
            <form class="formCitaBuscar" #citasForm="ngForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label class="labelCitaBuscar">Fecha</label>
                    <input class="form-control" name="fecha" id="fecha" type="date" placeholder="Fecha" required [(ngModel)]="citas.fecha">
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar">Hora</label>
                    <input class="form-control" name="hora" id="hora" type="time" required [(ngModel)]="citas.hora">
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar">Paciente</label>
                    <select class="form-control" required [(ngModel)]="citas.paciente" name="paciente" id="paciente">
                        <option *ngFor="let user of usersPacientes" [ngValue]="user.documento + ' ' + user.primerNombre + ' ' + (user.segundoNombre ? user.segundoNombre + ' ' : '') + user.primerApellido + ' ' + (user.segundoApellido ? user.segundoApellido : '')">
                            {{ user.documento }} - {{ user.primerNombre }} {{ user.segundoNombre }} {{ user.primerApellido }} {{ user.segundoApellido }}
                        </option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar">Médico</label>
                    <select class="form-control" required [(ngModel)]="citas.medico" name="medico" id="medico">
                        <option *ngFor="let user of usersMedicos" [ngValue]="user.documento + ' ' + user.primerNombre + ' ' + (user.segundoNombre ? user.segundoNombre + ' ' : '') + user.primerApellido + ' ' + (user.segundoApellido ? user.segundoApellido : '')">
                            {{ user.documento }} - {{ user.primerNombre }} {{ user.segundoNombre }} {{ user.primerApellido }} {{ user.segundoApellido }}
                        </option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar">Especialidad</label>
                    <select class="form-control" required [(ngModel)]="citas.especialidad" name="especialidad" id="especialidad">
                        <option *ngFor="let especialidad of especialidades" [ngValue]="especialidad.nombre">
                            {{ especialidad.id }} - {{ especialidad.nombre }} 
                        </option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar">Facturación</label>
                    <select class="form-control" required [(ngModel)]="citas.facturacion" name="facturacion" id="facturacion">
                        <option value="" selected disabled>Selecciona El Estado De La Factura</option>
                        <option value="pendiente" style="color: orange">Pendiente</option>
                        <option value="pagada" style="color: green;">Pagada</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="labelCitaBuscar">Estado</label>
                    <select class="form-control" required [(ngModel)]="citas.estado" name="estado" id="estado">
                        <option value="" selected disabled>Selecciona El Estado De La Cita</option>
                        <option value="pendiente" style="color: orange">Pendiente</option>
                        <option value="cancelada" style="color: #bd1b1b;">Cancelada</option>
                        <option value="confirmada" style="color: green;">Confirmada</option>
                    </select>
                </div>

                <div class="form-group mt-3">
                    <button type="submit" class="btn btn-primary" [disabled]="!citasForm.form.valid && isFormSubmitted">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>
</div>
